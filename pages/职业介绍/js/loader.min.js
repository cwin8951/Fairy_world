/*create by cowen zheng 2017-06-13 22:47:13 */

!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.resLoader=b()}(this,function(){function a(a){if(this.option={resourceType:"image",baseUrl:"./",resources:[],onStart:null,onProgress:null,onComplete:null},!a)return void alert("参数错误！");for(i in a)this.option[i]=a[i];this.status=0,this.total=this.option.resources.length||0,this.currentIndex=0}var b=function(a){return"function"==typeof a};return a.prototype.start=function(){this.status=1;for(var a=this,c=this.option.baseUrl,d=0,e=this.option.resources.length;d<e;d++){var f=this.option.resources[d],g="";g=0===f.indexOf("http://")||0===f.indexOf("https://")?f:c+f;var h=new Image;h.onload=function(){a.loaded()},h.onerror=function(){a.loaded()},h.src=g}b(this.option.onStart)&&this.option.onStart(this.total)},a.prototype.loaded=function(){b(this.option.onProgress)&&this.option.onProgress(++this.currentIndex,this.total),this.currentIndex===this.total&&b(this.option.onComplete)&&this.option.onComplete(this.total)},a});